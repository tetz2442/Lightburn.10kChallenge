/* Lightburn.10kChallenge - v1.0.0 - 2016-09-25 */
!function(a,b){"use strict";function c(){}function d(a){var c=b.createElement("div");return c.className="cloud-holder",c.innerHTML=a,c}function e(){return a.pageYOffset||b.documentElement.scrollTop}function f(a){var c=b.body.getBoundingClientRect(),d=a.getBoundingClientRect(),e=d.top-c.top;return e}function g(){var b=this;return a.addEventListener("scroll",function(){for(var a=e(),c=0;c<b.scrollCallbacks.length;c++)b.scrollCallbacks[c](a)}),a.addEventListener("resize",function(){for(var a=0;a<b.resizeCallbacks.length;a++)b.resizeCallbacks[a]()}),this}function h(){n.classList.add("section--expand"),o.classList.add("moon--start-top"),l.addScrollCallback(i,!0),l.addScrollCallback(j,!0)}function i(b){var c=m.getBoundingClientRect();c.top-a.innerHeight<=0?(p.classList.add("rocket--animate-top"),p.classList.add("rocket--delay-remove")):p.classList.remove("rocket--animate-top")}function j(b){var c=a.innerHeight,d=o.clientHeight,e=n.getBoundingClientRect(),g=(c-d)/2;if(e.top-g>0?(o.classList.remove("moon--fixed"),p.classList.remove("rocket--hide"),q=!1):e.top-g<=0&&(o.classList.add("moon--fixed"),p.classList.add("rocket--hide"),q=!0),q){var h=n.clientHeight,i=f(n),j=f(o),l=j+d;b<i+h+g-c?(o.classList.remove("moon--bottom"),r||(r=!0,p.addEventListener("animationend",k)),p.classList.remove("rocket--no-anim"),p.classList.add("rocket--hide")):l>=i+h&&(o.classList.add("moon--bottom"),console.log("below section 3"),p.classList.contains("rocket--command")||(p.classList.add("rocket--no-anim"),p.classList.add("rocket--command")),p.classList.remove("rocket--hide"))}}function k(){console.log("hola"),r=!1,p.removeEventListener("animationend",k),p.classList.remove("rocket--command")}c.prototype.createXHR=function(){return new XMLHttpRequest},c.prototype.send=function(a){var b=this,c=this.createXHR();c.open(a.type,a.url),c.onload=function(){var d=c.status>=200&&c.status<300||304===c.status;d?b.onSuccess(a,c):b.onError(a,c)},c.onerror=function(){b.onError(a,c)},c.send(a.data||null)},c.prototype.onSuccess=function(a,b){a.success&&a.success(b.responseText,b)},c.prototype.onError=function(a,b){a.error&&a.error(b,b.status,b.responseText)},g.prototype.scrollCallbacks=[],g.prototype.resizeCallbacks=[],g.prototype.addScrollCallback=function(a,b){this.scrollCallbacks.push(a),b&&a(e())},g.prototype.addResizeCallback=function(a){this.resizeCallbacks.push(a)};var l=new g,m=b.getElementById("js-s-2"),n=b.getElementById("js-s-3"),o=b.getElementById("js-moon"),p=b.getElementById("js-rocket"),q=!1,r=!1,s={},t=new c;if(s.querySelector="querySelectorAll"in b,s.svg=b.implementation&&b.implementation.hasFeature&&b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),s.svg&&s.querySelector){t.send({url:"svgs/cl.svg",type:"get",success:function(a){for(var c=b.querySelectorAll(".earth__circle"),e=0;e<c.length;e++)c[e].appendChild(d(a)),c[e].appendChild(d(a)),c[e].appendChild(d(a)),c[e].appendChild(d(a))}}),h()}}(this,this.document);
//# sourceMappingURL=global.min.js.map