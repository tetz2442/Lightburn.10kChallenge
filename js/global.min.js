!function(a,b){"use strict";function c(){}function d(a,c){var d=b.createElement("script");d.src=a,d.async=!0,d.onload=function(){c()},b.head.appendChild(d)}function e(a){var c=b.createElement("div");return c.className="cloud-holder",c.innerHTML=a,c}function f(){return a.pageYOffset||b.documentElement.scrollTop}function g(a){var c=b.body.getBoundingClientRect(),d=a.getBoundingClientRect(),e=d.top-c.top;return e}function h(){var b=this;return a.addEventListener("scroll",function(){for(var a=f(),c=0;c<b.scrollCallbacks.length;c++)b.scrollCallbacks[c](a)}),a.addEventListener("resize",function(){for(var a=0;a<b.resizeCallbacks.length;a++)b.resizeCallbacks[a]()}),this}function i(){s=new TimelineMax,w.classList.add("section--expand"),z.classList.add("moon--start-top"),t.addScrollCallback(j,!0),t.addScrollCallback(k,!0),t.addScrollCallback(l,!0),t.addScrollCallback(m,!0)}function j(b){for(var c=0;c<G;c++)if(!F[c].classList.contains("show")){var d=a.innerHeight,e=g(F[c]);e<b+d&&F[c].classList.add("show")}}function k(b){var c=v.getBoundingClientRect();c.top-a.innerHeight/2<=0?(TweenMax.to(A,.15,{autoAlpha:0}),TweenMax.to(B,.15,{autoAlpha:1}),n=!0,A.classList.add("rocket--anim-remove")):(u||(TweenMax.to(A,.15,{autoAlpha:1}),TweenMax.to(B,.15,{autoAlpha:0})),u=!1,n=!1)}function l(b){var c=a.innerHeight,d=z.clientHeight,e=w.getBoundingClientRect(),f=(c-d)/2;if(e.top-f>0?(z.classList.remove("moon--fixed"),o=!1):e.top-f<=0&&(z.classList.add("moon--fixed"),o=!0),e.top-c/2>0?n&&TweenMax.to(B,.25,{autoAlpha:1}):e.top-c/2<=0&&TweenMax.to(B,.25,{autoAlpha:0}),o){var h=w.clientHeight,i=g(w),j=g(z),k=j+d;b<i+h+f-c?(z.classList.remove("moon--bottom"),TweenMax.to(C,.1,{autoAlpha:0})):k>=i+h&&(z.classList.add("moon--bottom"),TweenMax.to(C,.15,{autoAlpha:1}))}}function m(c){var d=x.getBoundingClientRect();if(o&&d.top<=0){var e=a.innerHeight,f=y.getBoundingClientRect();if(f.top-e/4>0)TweenMax.to(C,.1,{autoAlpha:1}),TweenMax.set(D,{clearProps:"transform"}),TweenMax.to(D,0,{autoAlpha:0}),D.style.bottom="",D.classList.remove("rocket--splashdown"),p=!1;else if(f.top-e/4<=0){TweenMax.to(C,.1,{autoAlpha:0}),TweenMax.to(D,.1,{autoAlpha:1});var h=g(y),i=y.clientHeight;if(!p&&c>h+i/3){p=!0;var j=g(D),k=b.documentElement.scrollHeight,l=g(E),m=k-j,n=m-(k-l)+.05*e;D.style.bottom=k-j+"px",D.classList.add("rocket--splashdown"),TweenMax.to(D,1,{rotation:180,y:"+="+.5*n,ease:Power0.easeNone}),TweenMax.to(D,1.5,{y:"+="+.5*n,ease:Power1.easeOut,delay:1,onComplete:function(){H.classList.add("show")}})}}}}c.prototype.createXHR=function(){return new XMLHttpRequest},c.prototype.send=function(a){var b=this,c=this.createXHR();c.open(a.type,a.url),c.onload=function(){var d=c.status>=200&&c.status<300||304===c.status;d?b.onSuccess(a,c):b.onError(a,c)},c.onerror=function(){b.onError(a,c)},c.send(a.data||null)},c.prototype.onSuccess=function(a,b){a.success&&a.success(b.responseText,b)},c.prototype.onError=function(a,b){a.error&&a.error(b,b.status,b.responseText)},h.prototype.scrollCallbacks=[],h.prototype.resizeCallbacks=[],h.prototype.addScrollCallback=function(a,b){this.scrollCallbacks.push(a),b&&a(f())},h.prototype.addResizeCallback=function(a){this.resizeCallbacks.push(a)};var n=!1,o=!1,p=!1,q={},r=new c;if(q.querySelector="querySelectorAll"in b,q.svg=b.implementation&&b.implementation.hasFeature&&b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),q.svg&&q.querySelector){var s,t=new h,u=!0,v=b.getElementById("js-s-2"),w=b.getElementById("js-s-3"),x=b.getElementById("js-s-4"),y=b.getElementById("js-s-5"),z=b.getElementById("js-moon"),A=b.getElementById("js-rocket"),B=b.getElementById("js-rocket-clm"),C=b.getElementById("js-rocket-cm"),D=b.getElementById("js-rocket-cm-r"),E=b.getElementById("js-e-2"),F=b.querySelectorAll(".tm > li:not(.tm__btm)"),G=F.length,H=b.getElementById("js-tm-btm");r.send({url:"svgs/cl.svg",type:"get",success:function(a){for(var c=b.querySelectorAll(".earth__circle"),d=0;d<c.length;d++)c[d].appendChild(e(a)),c[d].appendChild(e(a)),c[d].appendChild(e(a)),c[d].appendChild(e(a))}}),d("https://cdnjs.cloudflare.com/ajax/libs/gsap/1.19.0/TweenMax.min.js",function(){i()})}}(this,this.document);
//# sourceMappingURL=global.min.js.map